<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï: APE 2026 v2.1 ‚Äî Autonomous Prediction Engine

## Verifiable Financial Decision-Support System

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 2.1.0
**–î–∞—Ç–∞:** 7 —Ñ–µ–≤—Ä–∞–ª—è 2026
**–°—Ç–∞—Ç—É—Å:** Implementation-Ready / SRS + HLD + Implementation Guide
**–¢–∏–ø —Å–∏—Å—Ç–µ–º—ã:** Financial Decision Support (Read-Only, Non-Trading)
**–ö–æ–º–∞–Ω–¥–∞:** 2‚Äì5 —á–µ–ª–æ–≤–µ–∫
**–¶–µ–ª–µ–≤–æ–π —Å—Ä–æ–∫ MVP:** 16 –Ω–µ–¥–µ–ª—å

***

## –†–ê–ó–î–ï–õ 0: EXECUTIVE SUMMARY

### 0.1. –ú–∏—Å—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—Ä—ë—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ª–∏–±–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–π –æ—Ç–≤–µ—Ç, –ª–∏–±–æ —á–µ—Å—Ç–Ω–æ –ø—Ä–∏–∑–Ω–∞—ë—Ç –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç—å.

### 0.2. –ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø: The Truth Boundary

**LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥–∏–ø–æ—Ç–µ–∑—ã. –ö–æ–¥ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ñ–∞–∫—Ç—ã. –í–∞–ª–∏–¥–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ.**

### 0.3. –ß—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–µ–ª–∞–µ—Ç

- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ-–∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã (risk assessment, regime detection, event impact)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç—ã —Å –ø–æ–ª–Ω–æ–π –∞—É–¥–∏—Ä—É–µ–º–æ–π —Ç—Ä–∞—Å—Å–æ–π –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
- –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å —Å–≤–æ–∏—Ö –≤—ã–≤–æ–¥–æ–≤ —á–µ—Ä–µ–∑ adversarial validation
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è—Ö (fail-closed)


### 0.4. –ß—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ù–ï –¥–µ–ª–∞–µ—Ç

‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–π–¥–∏–Ω–≥ –∏–ª–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤
‚ùå –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã ("–∫—É–ø–∏/–ø—Ä–æ–¥–∞–π")
‚ùå –¢–æ—á–µ—á–Ω—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã –±–µ–∑ –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
‚ùå –†–∞–±–æ—Ç–∞ —Å –Ω–µ–æ–±—ä—è—Å–Ω–∏–º—ã–º–∏ "—á—ë—Ä–Ω—ã–º–∏ —è—â–∏–∫–∞–º–∏"

### 0.5. Success Metrics (North Star)

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
| :-- | :-- | :-- |
| **Hallucination Rate (Numerical)** | 0.00% | üî¥ –ë–ª–æ–∫–∏—Ä—É—é—â–∞—è |
| **Calibration Error (ECE)** | < 0.05 | üî¥ –ë–ª–æ–∫–∏—Ä—É—é—â–∞—è |
| **Evidence Coverage** | ‚â• 90% | üü° –í—ã—Å–æ–∫–∞—è |
| **Temporal Adherence** | 100% | üî¥ –ë–ª–æ–∫–∏—Ä—É—é—â–∞—è |
| **P95 Latency (standard query)** | < 120 sec | üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–∞—è |
| **Cost per Query** | < \$1.50 (premium tier) | üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–∞—è |


***

## –†–ê–ó–î–ï–õ 1: SCOPE \& CONSTRAINTS

### 1.1. Functional Scope (In-Scope)

#### 1.1.1. –¢–∏–ø—ã –∑–∞–¥–∞—á (Task Taxonomy)

```yaml
Historical Analysis:
  - Retrospective event impact assessment
  - Regime change detection
  - Correlation analysis over time windows
  
Risk Assessment:
  - Portfolio sensitivity to macro shocks
  - VaR/CVaR decomposition
  - Tail risk identification
  
Fact Retrieval:
  - Company fundamentals lookup
  - Macro indicators extraction
  - Cross-asset correlation queries
  
Scenario Analysis:
  - "What-if" stress testing
  - Parameter sensitivity sweeps
  - Multi-factor attribution
```


#### 1.1.2. Data Sources (Whitelist)

| –ò—Å—Ç–æ—á–Ω–∏–∫ | –ê–¥–∞–ø—Ç–µ—Ä | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | SLA |
| :-- | :-- | :-- | :-- |
| **Yahoo Finance** | `yfinance` | –ö–æ—Ç–∏—Ä–æ–≤–∫–∏, OHLCV | Best-effort |
| **FRED (St. Louis Fed)** | `fred_api` | –ú–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏–∫–∞ | Daily updates |
| **ClickHouse (Internal)** | `clickhouse_adapter` | Time-series storage | 99.9% |
| **Neo4j (Internal)** | `neo4j_adapter` | Knowledge graph | 99.9% |
| **OpenBB Platform** | `openbb_adapter` | –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ | Best-effort |

### 1.2. Non-Functional Constraints

#### 1.2.1. Security \& Compliance

```python
COMPLIANCE_RULES = {
    "no_trading": True,  # –°–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å –æ—Ä–¥–µ—Ä–∞
    "no_pii_storage": True,  # –ó–∞–ø—Ä–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
    "audit_trail_mandatory": True,  # –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
    "fail_closed": True,  # –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –Ω–µ "—É–≥–∞–¥—ã–≤–∞–Ω–∏–µ"
    "human_in_loop_threshold": 0.70,  # Confidence < 70% ‚Üí —ç—Å–∫–∞–ª–∞—Ü–∏—è
}
```


#### 1.2.2. Operational Limits

```yaml
Query Processing:
  max_steps_per_investigation: 15
  max_retries_per_step: 3
  max_parallel_agents: 7
  max_debate_rounds: 2
  
Resource Budgets:
  max_tokens_input: 50000
  max_tokens_output: 8000
  max_execution_time_vee: 90  # seconds per sandbox run
  max_memory_vee: 2048  # MB
  
Rate Limits:
  queries_per_user_hour: 20
  queries_per_user_day: 100
```


***

## –†–ê–ó–î–ï–õ 2: ARCHITECTURE \& SYSTEM DESIGN

### 2.1. High-Level Architecture (Layers)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    USER INTERFACE LAYER                      ‚îÇ
‚îÇ  (FastAPI + WebSocket for streaming, React Frontend)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              ORCHESTRATION LAYER (LangGraph)                 ‚îÇ
‚îÇ  State Machine: PLAN ‚Üí EXECUTE ‚Üí DEBATE ‚Üí VALIDATE          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  REASONING   ‚îÇ   EXECUTION  ‚îÇ   VALIDATION ‚îÇ    MEMORY     ‚îÇ
‚îÇ    LAYER     ‚îÇ    LAYER     ‚îÇ    LAYER     ‚îÇ    LAYER      ‚îÇ
‚îÇ              ‚îÇ              ‚îÇ              ‚îÇ               ‚îÇ
‚îÇ DeepSeek-R1  ‚îÇ  VEE         ‚îÇ Truth Gate   ‚îÇ  Neo4j        ‚îÇ
‚îÇ Claude 3.7   ‚îÇ  (Sandbox)   ‚îÇ Doubter      ‚îÇ  ClickHouse   ‚îÇ
‚îÇ GPT-4.5      ‚îÇ  Adapters    ‚îÇ Sensitivity  ‚îÇ  Qdrant       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     DATA LAYER                               ‚îÇ
‚îÇ  External APIs (FRED, YF) + Internal DBs                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


### 2.2. LangGraph State Machine (Detailed Node Graph)

```python
# Nodes (–∫–∞–∂–¥—ã–π node ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º)
NODES = {
    "INIT": "Initialize episode state",
    "PLAN": "Generate InvestigationPlan using reasoning model",
    "EXECUTE_VEE": "Run code in Verifiable Execution Environment",
    "SENSITIVITY": "Parameter sweep for critical calculations",
    "RETRIEVE_RAG": "Hybrid retrieval (Vector + Graph)",
    "DEBATE": "Multi-agent parallel analysis",
    "SYNTHESIZE": "Draft report with references",
    "TRUTH_GATE": "Deterministic fact-checking",
    "DOUBTER": "Adversarial validation",
    "FINALIZE": "Package EpisodeArchive",
    "HITL_ESCALATE": "Human-in-the-loop escalation",
    "FAIL_CLOSED": "Return UNCERTAIN with reasons"
}

# Edges (—É—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã)
EDGES = {
    "INIT ‚Üí PLAN": "always",
    "PLAN ‚Üí EXECUTE_VEE": "if plan.valid",
    "PLAN ‚Üí FAIL_CLOSED": "if plan.invalid or timeout",
    "EXECUTE_VEE ‚Üí SENSITIVITY": "if critical_calcs exist",
    "EXECUTE_VEE ‚Üí RETRIEVE_RAG": "if needs_context",
    "SENSITIVITY ‚Üí DEBATE": "if sensitivity.passed",
    "SENSITIVITY ‚Üí FAIL_CLOSED": "if sign_flip detected",
    "DEBATE ‚Üí SYNTHESIZE": "always",
    "SYNTHESIZE ‚Üí TRUTH_GATE": "always",
    "TRUTH_GATE ‚Üí DOUBTER": "if passed",
    "TRUTH_GATE ‚Üí FAIL_CLOSED": "if blocked",
    "DOUBTER ‚Üí FINALIZE": "if verdict == PASS",
    "DOUBTER ‚Üí HITL_ESCALATE": "if verdict == NEED_HUMAN",
    "DOUBTER ‚Üí PLAN": "if verdict == REVISION (max 1 retry)",
}
```


### 2.3. Component Specifications

#### 2.3.1. PLAN Node (Reasoning)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.

**–ú–æ–¥–µ–ª—å:** DeepSeek-R1 (–∏–ª–∏ O3-mini, –∏–ª–∏ Claude Sonnet 4.5)

**–ü—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω:**

```markdown
# Role
You are a financial research planner. Your task is NOT to answer the query, 
but to design a verifiable investigation plan.

# Constraints
- All numbers must come from code execution (SQL/Python), NOT from your weights
- Specify data sources, time windows, and formulas explicitly
- Mark calculations that need sensitivity analysis
- Define temporal parameters (as_of_date, publication_lag)

# Input
Query: {user_query}
As-of Date: {asof_timestamp}
Available Adapters: {adapter_list}

# Output Format (JSON)
{
  "title": "Brief investigation title",
  "asof_timestamp": "ISO 8601",
  "steps": [
    {
      "step_id": "step_001",
      "adapter": "clickhouse|neo4j|fred|yfinance|python",
      "action": "retrieve|compute|aggregate",
      "spec": {
        "query": "SQL or code",
        "parameters": {"symbol": "SPY", "window": "30d"}
      },
      "outputs": [
        {"name": "volatility", "unit": "percent", "type": "float"}
      ],
      "temporal_rules": {
        "publication_lag": "2d",
        "window_definition": "rolling_30d"
      },
      "sensitivity": {
        "enabled": true,
        "vary_params": ["window"],
        "ranges": {"window": ["20d", "30d", "60d"]}
      }
    }
  ],
  "validation_checks": [
    "no_future_data",
    "no_survivorship_bias"
  ]
}
```

**Acceptance Criteria:**

- AC-PLAN-1: –ü–ª–∞–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç >= 1 step
- AC-PLAN-2: –í—Å–µ steps –∏–º–µ—é—Ç –≤–∞–ª–∏–¥–Ω—ã–π `adapter` –∏–∑ whitelist
- AC-PLAN-3: –ö–∞–∂–¥—ã–π output –∏–º–µ–µ—Ç `unit` (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–µ–π)
- AC-PLAN-4: –ï—Å–ª–∏ step —Ç—Ä–µ–±—É–µ—Ç temporal data, —É–∫–∞–∑–∞–Ω `publication_lag`

***

#### 2.3.2. EXECUTE_VEE Node (Verifiable Execution Environment)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–∫—Ç–æ–≤.

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Docker (–∏–ª–∏ E2B Sandbox)

**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Sandbox:**

```dockerfile
FROM python:3.11-slim

# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (whitelist)
RUN pip install --no-cache-dir \
    pandas==2.1.0 \
    numpy==1.26.0 \
    scipy==1.11.0 \
    yfinance==0.2.32 \
    openbb==4.0.0 \
    clickhouse-driver==0.2.6 \
    neo4j==5.14.0

# –ó–∞–ø—Ä–µ—Ç —Å–µ—Ç–µ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (–∫—Ä–æ–º–µ whitelist)
# –ò—Å–ø–æ–ª—å–∑—É–µ–º network policy –∏–ª–∏ iptables
ENV ALLOWED_HOSTS="api.stlouisfed.org,query.yahooapis.com"

WORKDIR /workspace
CMD ["python", "execute.py"]
```

**–ê–ª–≥–æ—Ä–∏—Ç–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è:**

```python
def execute_step(step: PlanStep, episode_state: EpisodeState) -> VerifiedFact:
    """
    –í—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–∏–Ω —à–∞–≥ –ø–ª–∞–Ω–∞ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.
    """
    # 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    context = {
        "asof_timestamp": episode_state.asof_timestamp,
        "adapter": get_adapter(step.adapter),
        "spec": step.spec
    }
    
    # 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
    code = generate_code_from_spec(step)
    
    # 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑)
    validate_code_safety(code)  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ SQL injection, file access
    
    # 4. –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ sandbox
    result = run_in_sandbox(
        code=code,
        timeout=step.timeout or 60,
        memory_limit="2GB"
    )
    
    # 5. –£–ø–∞–∫–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    fact = VerifiedFact(
        id=generate_uuid(),
        schema_version="2.1.0",
        value=result.output,
        unit=step.outputs[0].unit,
        asof_timestamp=context["asof_timestamp"],
        publication_lag=step.temporal_rules.publication_lag,
        source={
            "adapter": step.adapter,
            "query_hash": hash(code)
        },
        method="python_script",
        output_hash=hash(result.output),
        created_at=utcnow(),
        execution_log_ref=result.log_id
    )
    
    # 6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≥—Ä–∞—Ñ –ø–∞–º—è—Ç–∏
    store_fact_in_neo4j(fact, episode_state.episode_id)
    
    return fact
```

**Acceptance Criteria:**

- AC-VEE-1: –ö–æ–¥ –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ —Ö–æ—Å—Ç–∞
- AC-VEE-2: –í—Å–µ —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã whitelist
- AC-VEE-3: –ü—Ä–∏ timeout –∫–æ–¥ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- AC-VEE-4: –ö–∞–∂–¥–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç immutable log —Å stdout/stderr

***

#### 2.3.3. SENSITIVITY Node (Robustness Testing)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç–æ–≤ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```python
def run_sensitivity_analysis(
    critical_calc: PlanStep,
    base_fact: VerifiedFact,
    episode_state: EpisodeState
) -> SensitivityReport:
    """
    –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞—Å—á—ë—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
    """
    base_value = base_fact.value
    variations = []
    
    for param_name, param_range in critical_calc.sensitivity.ranges.items():
        for param_value in param_range:
            # –ö–ª–æ–Ω–∏—Ä—É–µ–º step —Å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
            variant_step = critical_calc.copy()
            variant_step.spec.parameters[param_name] = param_value
            
            # –ò—Å–ø–æ–ª–Ω—è–µ–º
            variant_fact = execute_step(variant_step, episode_state)
            
            variations.append({
                "param": param_name,
                "value": param_value,
                "result": variant_fact.value,
                "delta_pct": (variant_fact.value - base_value) / base_value
            })
    
    # –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    deltas = [v["delta_pct"] for v in variations]
    sign_flips = any(
        (base_value > 0 and v["result"] < 0) or
        (base_value < 0 and v["result"] > 0)
        for v in variations
    )
    
    sensitivity_score = 1.0 / (1.0 + np.std(deltas))  # –í—ã—Å–æ–∫–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å = –≤—ã—Å–æ–∫–∏–π score
    
    report = SensitivityReport(
        id=generate_uuid(),
        base_fact_id=base_fact.id,
        variations=variations,
        sensitivity_score=sensitivity_score,
        sign_flip=sign_flips,
        stability_assessment="STABLE" if sensitivity_score > 0.8 and not sign_flips else "UNSTABLE"
    )
    
    return report
```

**Acceptance Criteria:**

- AC-SENS-1: –î–ª—è –∫–∞–∂–¥–æ–≥–æ `critical_calc` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞
- AC-SENS-2: –ï—Å–ª–∏ `sign_flip == True`, —Ñ–∏–Ω–∞–ª—å–Ω—ã–π confidence —Å–Ω–∏–∂–∞–µ—Ç—Å—è –Ω–∞ >= 0.3
- AC-SENS-3: `SensitivityReport` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ EpisodeArchive

***

#### 2.3.4. DEBATE Node (Multi-Agent Consensus)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–π –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è bias.

**–ê–≥–µ–Ω—Ç—ã (–º–∏–Ω–∏–º—É–º 3):**

```python
AGENTS = {
    "Bull": {
        "role": "Optimistic analyst, finds opportunities",
        "bias": "positive",
        "model": "claude-sonnet-3.5"
    },
    "Bear": {
        "role": "Risk analyst, finds threats and data quality issues",
        "bias": "negative",
        "model": "claude-sonnet-3.5"
    },
    "Quant": {
        "role": "Statistical validator, checks significance and assumptions",
        "bias": "neutral",
        "model": "deepseek-v3"
    }
}
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞ (–ø—Ä–∏–º–µ—Ä ‚Äî Bull):**

```markdown
# Role: Optimistic Financial Analyst

# Context
You are reviewing evidence from a financial investigation. Your goal is to 
identify OPPORTUNITIES and POSITIVE signals, while remaining factually grounded.

# Evidence Bundle
{evidence_summary}

# Facts (Verified)
{list_of_verified_facts}

# Constraints
- You MUST cite FactRef for every number you mention
- If you make a claim, provide EvidenceRef
- You may ONLY use facts from the bundle above

# Task
Write a 200-300 word analysis highlighting:
1. Positive trends or opportunities
2. Strengths in the data
3. Upside scenarios

# Output Format
## Bull Case Analysis
[Your analysis with inline citations: {{FactRef(fact_123)}}, {{EvidenceRef(doc_456)}}]

## Confidence
[0.0 to 1.0]: How confident are you in this interpretation?
```

**–ê–ª–≥–æ—Ä–∏—Ç–º —Å–∏–Ω—Ç–µ–∑–∞:**

```python
def run_debate(
    evidence_bundle: EvidenceBundle,
    episode_state: EpisodeState
) -> List[PanelReport]:
    """
    –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –æ—Ç—á—ë—Ç—ã.
    """
    reports = []
    
    # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–æ–≤
    with ThreadPoolExecutor(max_workers=3) as executor:
        futures = {
            executor.submit(
                run_agent,
                agent_config=AGENTS[agent_name],
                evidence=evidence_bundle,
                episode_id=episode_state.episode_id
            ): agent_name
            for agent_name in ["Bull", "Bear", "Quant"]
        }
        
        for future in as_completed(futures):
            agent_name = futures[future]
            report = future.result()
            reports.append(report)
    
    # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ vote_entropy (–Ω–∞—Å–∫–æ–ª—å–∫–æ –∞–≥–µ–Ω—Ç—ã —Å–æ–≥–ª–∞—Å–Ω—ã)
    confidences = [r.confidence for r in reports]
    vote_entropy = -sum(p * log(p) for p in confidences if p > 0) / log(len(confidences))
    
    episode_state.vote_entropy = vote_entropy
    
    return reports
```

**Acceptance Criteria:**

- AC-DEBATE-1: –ú–∏–Ω–∏–º—É–º 2 –∞–≥–µ–Ω—Ç–∞ —É—Å–ø–µ—à–Ω–æ –≤–µ—Ä–Ω—É–ª–∏ –æ—Ç—á—ë—Ç
- AC-DEBATE-2: –ö–∞–∂–¥—ã–π –æ—Ç—á—ë—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç >= 1 FactRef
- AC-DEBATE-3: `vote_entropy` —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ state

***

#### 2.3.5. TRUTH_GATE Node (Deterministic Validation)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–µ–∫—Å—Ç–∞ —Ñ–∞–∫—Ç–∞–º.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```python
def validate_truth_boundary(
    draft_report: str,
    evidence_bundle: EvidenceBundle,
    episode_state: EpisodeState
) -> ValidationResult:
    """
    –ñ—ë—Å—Ç–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏.
    """
    issues = []
    
    # 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö —á–∏—Å–µ–ª –∏–∑ —Ç–µ–∫—Å—Ç–∞
    text_numbers = extract_numbers_with_context(draft_report)
    # –†–µ–∑—É–ª—å—Ç–∞—Ç: [{"value": 15.3, "context": "volatility increased to 15.3%", "position": 234}]
    
    # 2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö FactRef/DerivationRef –∏–∑ —Ä–∞–∑–º–µ—Ç–∫–∏
    cited_facts = extract_fact_references(draft_report)
    # –†–µ–∑—É–ª—å—Ç–∞—Ç: [{"ref_id": "fact_123", "position": 230}]
    
    # 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è
    for num in text_numbers:
        # –ï—Å—Ç—å –ª–∏ –≤ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç–∏ —á–∏—Å–ª–∞ (¬±50 —Å–∏–º–≤–æ–ª–æ–≤) —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–∫—Ç?
        nearby_refs = [r for r in cited_facts if abs(r["position"] - num["position"]) < 50]
        
        if not nearby_refs:
            issues.append({
                "type": "UNVERIFIED_NUMBER",
                "value": num["value"],
                "context": num["context"],
                "severity": "CRITICAL"
            })
            continue
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —á–∏—Å–ª–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–∫—Ç—É
        for ref in nearby_refs:
            fact = evidence_bundle.get_fact(ref["ref_id"])
            if fact is None:
                issues.append({
                    "type": "MISSING_FACT",
                    "ref_id": ref["ref_id"],
                    "severity": "CRITICAL"
                })
            elif not numbers_match(num["value"], fact.value, tolerance=0.01):
                issues.append({
                    "type": "VALUE_MISMATCH",
                    "text_value": num["value"],
                    "fact_value": fact.value,
                    "severity": "CRITICAL"
                })
    
    # 4. Temporal Integrity Check
    for fact_ref in cited_facts:
        fact = evidence_bundle.get_fact(fact_ref["ref_id"])
        if fact.asof_timestamp:
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ look-ahead bias
            available_at = fact.asof_timestamp + fact.publication_lag
            if available_at > episode_state.asof_timestamp:
                issues.append({
                    "type": "TEMPORAL_VIOLATION",
                    "fact_id": fact.id,
                    "available_at": available_at,
                    "query_asof": episode_state.asof_timestamp,
                    "severity": "CRITICAL"
                })
    
    # 5. Evidence Coverage
    claims = extract_claims(draft_report)  # NLP extraction
    backed_claims = [c for c in claims if has_evidence_ref(c, draft_report)]
    coverage = len(backed_claims) / len(claims) if claims else 0.0
    
    if coverage < 0.9:
        issues.append({
            "type": "LOW_EVIDENCE_COVERAGE",
            "coverage": coverage,
            "severity": "HIGH"
        })
    
    # 6. –í–µ—Ä–¥–∏–∫—Ç
    critical_issues = [i for i in issues if i["severity"] == "CRITICAL"]
    
    if critical_issues:
        return ValidationResult(
            verdict="BLOCK",
            issues=issues,
            evidence_coverage=coverage
        )
    elif issues:
        return ValidationResult(
            verdict="PASS_WITH_WARNINGS",
            issues=issues,
            evidence_coverage=coverage
        )
    else:
        return ValidationResult(
            verdict="PASS",
            issues=[],
            evidence_coverage=coverage
        )
```

**Acceptance Criteria:**

- AC-TRUTH-1: Unverified Numbers Rate == 0% (CRITICAL issues –±–ª–æ–∫–∏—Ä—É—é—Ç –≤—ã–¥–∞—á—É)
- AC-TRUTH-2: Temporal violations –¥–µ—Ç–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –Ω–∞ 100%
- AC-TRUTH-3: Evidence coverage >= 90% –¥–ª—è PASS

***

#### 2.3.6. DOUBTER Node (Adversarial LLM Validation)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≥–µ–Ω—Ç-–∫—Ä–∏—Ç–∏–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –æ–ø—Ä–æ–≤–µ—Ä–≥–Ω—É—Ç—å –≤—ã–≤–æ–¥—ã.

**–ú–æ–¥–µ–ª—å:** Claude 3.7 Sonnet –∏–ª–∏ GPT-4.5 (–¥–æ—Ä–æ–≥–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∫—Ä–∏—Ç–∏–∫–∏)

**–ü—Ä–æ–º–ø—Ç:**

```markdown
# Role: Adversarial Financial Auditor

You are a skeptical analyst whose job is to FIND FLAWS in the following report.

# Report to Audit
{draft_report}

# Evidence Bundle Summary
{evidence_summary}

# Your Task
Identify any of the following issues:
1. **Logical Fallacies**: Correlation/causation confusion, survivorship bias
2. **Overconfidence**: Claims that are too strong given the evidence
3. **Missing Context**: Ignored alternative explanations or contradictory data
4. **Statistical Issues**: Sample size too small, significance not tested
5. **Temporal Issues**: Did the analyst use information not available at as_of_date?

# Output Format (Strict JSON)
{
  "verdict": "PASS | BLOCK | NEED_HUMAN | UNCERTAIN",
  "issues": [
    {
      "type": "overconfidence | logical_fallacy | missing_context | ...",
      "severity": "critical | high | medium | low",
      "description": "...",
      "affected_claim": "quote from report",
      "suggested_fix": "..."
    }
  ],
  "confidence_penalty": 0.0-1.0,  // How much to reduce final confidence
  "reasoning": "Why you gave this verdict"
}
```

**Post-check (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ LLM):**

```python
def postcheck_doubter_verdict(
    verdict: DoubterVerdict,
    evidence_bundle: EvidenceBundle
) -> DoubterVerdict:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ Doubter —Å–∞–º –Ω–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∏—Ä—É–µ—Ç.
    """
    # –ï—Å–ª–∏ Doubter —Å–æ—Å–ª–∞–ª—Å—è –Ω–∞ "—Ñ–∞–∫—Ç", –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ bundle ‚Äî —ç—Ç–æ –Ω–µ–¥–æ–≤–µ—Ä–∏–µ –∫ Doubter
    for issue in verdict.issues:
        mentioned_facts = extract_fact_references(issue.description)
        for fact_ref in mentioned_facts:
            if not evidence_bundle.has_fact(fact_ref):
                # Doubter –ø—Ä–∏–¥—É–º–∞–ª –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–∫—Ç
                return DoubterVerdict(
                    verdict="NEED_HUMAN",
                    issues=[{
                        "type": "doubter_hallucination",
                        "severity": "critical",
                        "description": "Validator referenced non-existent fact"
                    }],
                    confidence_penalty=1.0,  # –ü–æ–ª–Ω–∞—è –ø–æ—Ç–µ—Ä—è –¥–æ–≤–µ—Ä–∏—è
                    reasoning="Doubter itself hallucinated"
                )
    
    return verdict  # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –≤–µ—Ä–¥–∏–∫—Ç –≤–∞–ª–∏–¥–µ–Ω
```

**Acceptance Criteria:**

- AC-DOUBT-1: –ï—Å–ª–∏ verdict == "BLOCK", —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –≤—ã–¥–∞—ë—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- AC-DOUBT-2: –ï—Å–ª–∏ Doubter –≥–∞–ª–ª—é—Ü–∏–Ω–∏—Ä—É–µ—Ç, verdict –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è NEED_HUMAN
- AC-DOUBT-3: confidence_penalty –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É confidence_score

***

## –†–ê–ó–î–ï–õ 3: DATA CONTRACTS \& SCHEMAS

### 3.1. VerifiedFact (Core Schema)

```typescript
interface VerifiedFact {
  // Identity
  id: UUID;
  schema_version: "2.1.0";
  
  // Value
  value: number | string | object;  // –ê–∫—Ç—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  unit: string;  // "USD", "percent", "count", "boolean"
  
  // Temporal
  asof_timestamp: ISO8601DateTime;  // "–ö–æ–≥–¥–∞ —ç—Ç–æ –±—ã–ª–æ –∏—Å—Ç–∏–Ω–Ω–æ"
  publication_lag: Duration;  // "–ß–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–∞–ª–æ –∏–∑–≤–µ—Å—Ç–Ω–æ —Ä—ã–Ω–∫—É"
  window_definition?: string;  // "rolling_30d", "monthly", "ytd"
  
  // Provenance
  source: {
    name: string;  // "FRED", "yfinance", "clickhouse.portfolio_table"
    version?: string;
    connection_details_redacted: boolean;
  };
  method: "sql_query" | "python_script" | "api_call" | "graph_query";
  query_hash: string;  // SHA256 –æ—Ç –∫–æ–¥–∞/–∑–∞–ø—Ä–æ—Å–∞
  output_hash: string;  // SHA256 –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  
  // Metadata
  created_at: ISO8601DateTime;
  execution_log_ref?: UUID;  // –°—Å—ã–ª–∫–∞ –Ω–∞ ExecutionLog
}
```

**–ü—Ä–∏–º–µ—Ä:**

```json
{
  "id": "fact_a7f3e2c1",
  "schema_version": "2.1.0",
  "value": 0.1534,
  "unit": "ratio",
  "asof_timestamp": "2024-12-31T00:00:00Z",
  "publication_lag": "PT0S",
  "window_definition": "rolling_30d",
  "source": {
    "name": "yfinance",
    "version": "0.2.32",
    "connection_details_redacted": true
  },
  "method": "python_script",
  "query_hash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
  "output_hash": "5d41402abc4b2a76b9719d911017c592",
  "created_at": "2026-02-07T16:45:23Z",
  "execution_log_ref": "log_99bb2e11"
}
```


### 3.2. DerivedFact (Calculated Values)

```typescript
interface DerivedFact {
  id: UUID;
  schema_version: "2.1.0";
  
  // Derivation
  expression: string;  // "volatility = stddev(returns)"
  inputs: FactRef[];  // –ú–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫ –Ω–∞ VerifiedFact –∏–ª–∏ –¥—Ä—É–≥–∏–µ DerivedFact
  
  // Value
  value: number | string | object;
  unit: string;
  
  // Temporal (–Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç inputs –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è)
  asof_timestamp: ISO8601DateTime;
  
  // Hashes
  computation_hash: string;  // SHA256(expression + sorted(inputs))
  output_hash: string;
  
  created_at: ISO8601DateTime;
}
```


### 3.3. InvestigationPlan

```typescript
interface InvestigationPlan {
  id: UUID;
  schema_version: "2.1.0";
  
  title: string;
  asof_timestamp: ISO8601DateTime;
  
  steps: PlanStep[];
  
  validation_checks: string[];  // ["no_future_data", "no_survivorship_bias"]
  
  estimated_cost_tokens?: number;
  estimated_runtime_sec?: number;
}

interface PlanStep {
  step_id: string;
  adapter: "clickhouse" | "neo4j" | "fred" | "yfinance" | "python";
  action: "retrieve" | "compute" | "aggregate";
  
  spec: {
    query?: string;  // SQL –∏–ª–∏ Cypher
    code?: string;   // Python –∫–æ–¥
    parameters?: Record<string, any>;
  };
  
  outputs: Array<{
    name: string;
    unit: string;
    type: "float" | "int" | "string" | "dataframe";
  }>;
  
  temporal_rules: {
    publication_lag: Duration;
    window_definition?: string;
  };
  
  sensitivity?: {
    enabled: boolean;
    vary_params: string[];
    ranges: Record<string, any[]>;
  };
  
  timeout?: number;  // seconds
}
```


### 3.4. EpisodeArchive (Final Output)

```typescript
interface EpisodeArchive {
  // Identity
  episode_id: UUID;
  schema_version: "2.1.0";
  
  // Input
  query: string;
  user_id: string;
  asof_timestamp: ISO8601DateTime;
  
  // Process
  investigation_plan: InvestigationPlan;
  evidence_bundle: EvidenceBundle;
  sensitivity_report?: SensitivityReport;
  panel_reports: PanelReport[];
  
  // Validation
  truth_gate_result: ValidationResult;
  doubter_verdict: DoubterVerdict;
  
  // Output
  final_report: {
    content: string;  // Markdown —Å {{FactRef(...)}} —Ä–∞–∑–º–µ—Ç–∫–æ–π
    rendered: string;  // HTML –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  };
  
  // Metrics
  confidence_score: number;  // 0.0-1.0
  evidence_coverage: number;
  vote_entropy: number;
  sensitivity_score?: number;
  
  // Metadata
  created_at: ISO8601DateTime;
  completed_at: ISO8601DateTime;
  total_cost_usd: number;
  total_tokens: number;
  
  // Audit
  trace_summary: TraceSummary;
  export_url: string;  // –°—Å—ã–ª–∫–∞ –Ω–∞ .zip –∞—Ä—Ö–∏–≤
}
```


***

## –†–ê–ó–î–ï–õ 4: VALIDATION POLICIES \& GATES

### 4.1. Truth Boundary Gate (Policy TB-2.1)

```yaml
policy_name: TB-2.1
version: 2.1.0
enabled: true
blocking: true

rules:
  - rule_id: TB-2.1-R1
    name: "No Unverified Numbers"
    check: |
      Every numeric value in final report MUST have a FactRef or DerivationRef
      within ¬±50 characters.
    severity: CRITICAL
    action: BLOCK
    
  - rule_id: TB-2.1-R2
    name: "Fact Existence"
    check: |
      All referenced fact_id/derived_id MUST exist in EvidenceBundle.
    severity: CRITICAL
    action: BLOCK
    
  - rule_id: TB-2.1-R3
    name: "Value Match"
    check: |
      Numeric value in text MUST match fact.value within tolerance (1% or 0.01 absolute).
    severity: CRITICAL
    action: BLOCK
    
  - rule_id: TB-2.1-R4
    name: "Evidence Coverage"
    check: |
      At least 90% of substantive claims MUST have EvidenceRef.
    severity: HIGH
    action: WARN (or BLOCK for high_stakes mode)
```


### 4.2. Temporal Integrity Module (Policy TIM-2.1)

```yaml
policy_name: TIM-2.1
version: 2.1.0
enabled: true
blocking: true

rules:
  - rule_id: TIM-2.1-R1
    name: "No Look-Ahead Bias"
    check: |
      For any VerifiedFact used in analysis:
        fact.asof_timestamp + fact.publication_lag <= episode.asof_timestamp
    severity: CRITICAL
    action: BLOCK
    example: |
      If modeling as-of 2024-01-15, cannot use a fact published on 2024-01-20,
      even if the underlying event occurred on 2024-01-10.
    
  - rule_id: TIM-2.1-R2
    name: "Window Definition Required"
    check: |
      Any rolling/aggregate calculation (volatility, moving average) MUST specify
      window_definition.
    severity: HIGH
    action: BLOCK
    
  - rule_id: TIM-2.1-R3
    name: "Time-Series Alignment"
    check: |
      When combining multiple time-series (correlation, regression), their
      asof_timestamps MUST be aligned or the system MUST explicitly handle misalignment.
    severity: HIGH
    action: WARN_OR_BLOCK
```


### 4.3. Sensitivity Harness (Policy SENS-2.1)

```yaml
policy_name: SENS-2.1
version: 2.1.0
enabled: true
blocking: conditional  # Only for high_stakes queries

rules:
  - rule_id: SENS-2.1-R1
    name: "Critical Calc Coverage"
    check: |
      All calculations marked as "critical" in InvestigationPlan MUST undergo
      parameter sweep (minimum 3 variants).
    severity: HIGH
    action: BLOCK (if high_stakes)
    
  - rule_id: SENS-2.1-R2
    name: "No Sign Flip"
    check: |
      If base calculation yields positive value, no parameter variation should
      yield negative (and vice versa), unless explicitly expected.
    severity: CRITICAL
    action: |
      IF sign_flip THEN
        - Set confidence_score = min(confidence_score * 0.5, 0.5)
        - Add WARNING to report
        - OR BLOCK and return UNCERTAIN
    
  - rule_id: SENS-2.1-R3
    name: "Stability Score Threshold"
    check: |
      sensitivity_score >= 0.6 for PASS
    severity: MEDIUM
    action: WARN (reduce confidence if < 0.6)
```


### 4.4. Doubter Validation (Policy DOUBT-2.1)

```yaml
policy_name: DOUBT-2.1
version: 2.1.0
enabled: true
blocking: true

rules:
  - rule_id: DOUBT-2.1-R1
    name: "Critical Issues Block"
    check: |
      If Doubter returns issues with severity=CRITICAL, report is BLOCKED.
    action: BLOCK
    
  - rule_id: DOUBT-2.1-R2
    name: "Doubter Self-Check"
    check: |
      Doubter's verdict MUST NOT reference facts not in EvidenceBundle.
      If it does, verdict is downgraded to NEED_HUMAN.
    action: ESCALATE
    
  - rule_id: DOUBT-2.1-R3
    name: "Confidence Penalty"
    check: |
      Final confidence_score = base_confidence * (1 - doubter.confidence_penalty)
    action: APPLY
```


***

## –†–ê–ó–î–ï–õ 5: TECH STACK \& INFRASTRUCTURE

### 5.1. Software Stack (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)

```yaml
Orchestration:
  framework: LangGraph
  version: ">=0.2.0"
  language: Python 3.11+
  
Models:
  reasoning:
    primary: DeepSeek-R1
    fallback: Claude-3.7-Sonnet
    use_case: Plan generation, complex reasoning
    
  coding:
    primary: Claude-3.7-Sonnet
    fallback: GPT-4.5-Turbo
    use_case: Code generation for VEE
    
  debate:
    primary: DeepSeek-V3
    secondary: Llama-3-70B (via Groq)
    use_case: Multi-agent debate (cost-optimized)
    
  validation:
    primary: GPT-4.5
    use_case: Doubter agent (quality over cost)

Databases:
  graph:
    system: Neo4j
    version: ">=5.14"
    use_case: Episode memory, fact lineage
    
  timeseries:
    system: ClickHouse
    version: ">=24.1"
    use_case: Market data, execution logs
    
  vector:
    system: Qdrant
    version: ">=1.7"
    use_case: Document embeddings, RAG

Execution:
  sandbox: Docker
  alternative: E2B (cloud sandbox)
  base_image: python:3.11-slim
  network: isolated with whitelist

API Gateway:
  framework: FastAPI
  websocket: Yes (for streaming responses)
  auth: JWT + API keys
```


### 5.2. Infrastructure (–¥–ª—è –∫–æ–º–∞–Ω–¥—ã 2-5 —á–µ–ª–æ–≤–µ–∫)

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (MVP):**

```yaml
Application Server:
  cpu: 8 cores
  ram: 32 GB
  storage: 500 GB SSD
  
Neo4j:
  cpu: 4 cores
  ram: 16 GB
  storage: 200 GB SSD
  
ClickHouse:
  cpu: 4 cores
  ram: 16 GB
  storage: 1 TB SSD (–¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
  
Qdrant:
  cpu: 2 cores
  ram: 8 GB
  storage: 100 GB SSD
  
Total Cost (Cloud): ~$800-1200/month + API costs
```

**API Costs (–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–µ):**

```python
COST_ESTIMATES = {
    "deepseek_r1": 0.55 / 1M_tokens,  # input
    "deepseek_v3": 0.27 / 1M_tokens,
    "claude_sonnet_3.7": 3.00 / 1M_tokens,
    "gpt_4.5": 5.00 / 1M_tokens,
}

# –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (standard query):
REQUEST_BREAKDOWN = {
    "plan_generation": 5000 * 0.55 = "$0.00275",  # DeepSeek-R1
    "code_execution": "free",
    "debate": 15000 * 0.27 = "$0.00405",  # 3 agents x 5k tokens
    "synthesis": 8000 * 3.00 = "$0.024",  # Claude
    "doubter": 10000 * 5.00 = "$0.05",  # GPT-4.5
    "total_per_query": "$0.08 - $0.12"
}

# –° —É—á–µ—Ç–æ–º –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: ~$0.05-0.08 per query (—Å—Ä–µ–¥–Ω–∏–π)
```


### 5.3. Development Environment

```bash
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
ape-2026-v2/
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ SRS_APE_v2_1.md  # –≠—Ç–æ –¢–ó
‚îÇ   ‚îú‚îÄ‚îÄ API_DOCS.md
‚îÇ   ‚îî‚îÄ‚îÄ RUNBOOK.md
‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îú‚îÄ‚îÄ verified_fact.json
‚îÇ   ‚îú‚îÄ‚îÄ investigation_plan.json
‚îÇ   ‚îú‚îÄ‚îÄ episode_archive.json
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ orchestration/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ langgraph_workflow.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nodes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ plan.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ execute_vee.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sensitivity.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ debate.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ synthesize.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ truth_gate.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ doubter.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ state.py
‚îÇ   ‚îú‚îÄ‚îÄ vee/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sandbox_runner.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ adapters/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clickhouse.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ neo4j.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fred.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ yfinance.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ safety_checks.py
‚îÇ   ‚îú‚îÄ‚îÄ validators/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ truth_boundary.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ temporal_integrity.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sensitivity_harness.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ doubter_postcheck.py
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ artifacts.py  # Pydantic models
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prompts/
‚îÇ   ‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ neo4j_client.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clickhouse_client.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ qdrant_client.py
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ main.py  # FastAPI app
‚îÇ       ‚îî‚îÄ‚îÄ routes/
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ integration/
‚îÇ   ‚îî‚îÄ‚îÄ fixtures/
‚îÇ       ‚îî‚îÄ‚îÄ task_suite.json
‚îú‚îÄ‚îÄ eval/
‚îÇ   ‚îú‚îÄ‚îÄ task_suite.json
‚îÇ   ‚îú‚îÄ‚îÄ evaluation_protocol.md
‚îÇ   ‚îî‚îÄ‚îÄ run_eval.py
‚îî‚îÄ‚îÄ deployment/
    ‚îú‚îÄ‚îÄ Dockerfile
    ‚îú‚îÄ‚îÄ k8s/
    ‚îî‚îÄ‚îÄ terraform/
```


***

## –†–ê–ó–î–ï–õ 6: TESTING \& ACCEPTANCE CRITERIA

### 6.1. Unit Tests (–ü—Ä–∏–º–µ—Ä—ã)

```python
# tests/unit/test_truth_boundary.py

def test_truth_gate_blocks_unverified_numbers():
    """TB-2.1-R1: –ù–µ–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∏—Å–ª–∞ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è."""
    draft = "The volatility increased to 15.3% last month."
    evidence = EvidenceBundle(facts=[])  # –ù–µ—Ç —Ñ–∞–∫—Ç–æ–≤
    
    result = validate_truth_boundary(draft, evidence, EpisodeState())
    
    assert result.verdict == "BLOCK"
    assert any(i["type"] == "UNVERIFIED_NUMBER" for i in result.issues)


def test_truth_gate_passes_with_valid_refs():
    """TB-2.1-R1: –í–∞–ª–∏–¥–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ–≤–µ—Ä–∫—É."""
    fact = VerifiedFact(id="fact_123", value=0.153, unit="ratio", ...)
    draft = "The volatility increased to {{FactRef(fact_123)|15.3%}} last month."
    evidence = EvidenceBundle(facts=[fact])
    
    result = validate_truth_boundary(draft, evidence, EpisodeState())
    
    assert result.verdict == "PASS"
    assert len(result.issues) == 0
```

```python
# tests/unit/test_temporal_integrity.py

def test_temporal_integrity_blocks_look_ahead():
    """TIM-2.1-R1: Look-ahead bias –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è."""
    fact = VerifiedFact(
        id="fact_456",
        asof_timestamp="2024-01-20T00:00:00Z",
        publication_lag=timedelta(days=0),
        ...
    )
    episode = EpisodeState(asof_timestamp="2024-01-15T00:00:00Z")
    
    result = check_temporal_integrity(fact, episode)
    
    assert result.valid == False
    assert result.violation_type == "LOOK_AHEAD_BIAS"


def test_temporal_integrity_passes_with_lag():
    """TIM-2.1-R1: –§–∞–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Å —É—á–µ—Ç–æ–º –ª–∞–≥–∞."""
    fact = VerifiedFact(
        id="fact_789",
        asof_timestamp="2024-01-10T00:00:00Z",
        publication_lag=timedelta(days=2),  # –î–æ—Å—Ç—É–ø–µ–Ω 12-–≥–æ
        ...
    )
    episode = EpisodeState(asof_timestamp="2024-01-15T00:00:00Z")
    
    result = check_temporal_integrity(fact, episode)
    
    assert result.valid == True
```


### 6.2. Integration Tests

```python
# tests/integration/test_end_to_end.py

@pytest.mark.integration
@pytest.mark.slow
def test_full_pipeline_historical_query():
    """
    –ü–æ–ª–Ω—ã–π –ø—Ä–æ–≥–æ–Ω: –∑–∞–ø—Ä–æ—Å ‚Üí –ø–ª–∞–Ω ‚Üí –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí –æ—Ç—á—ë—Ç.
    """
    query = "What was the 30-day volatility of SPY as of 2024-12-31?"
    
    # –ó–∞–ø—É—Å–∫ workflow
    result = run_ape_workflow(
        query=query,
        asof_timestamp="2024-12-31T00:00:00Z",
        user_id="test_user"
    )
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∏
    assert result.status == "success"
    assert result.episode_archive is not None
    assert result.episode_archive.truth_gate_result.verdict == "PASS"
    assert result.episode_archive.doubter_verdict.verdict in ["PASS", "PASS_WITH_WARNINGS"]
    assert result.episode_archive.confidence_score > 0.7
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–∫—Ç–æ–≤
    volatility_fact = result.episode_archive.evidence_bundle.get_fact_by_name("volatility")
    assert volatility_fact is not None
    assert volatility_fact.unit == "ratio"
    assert 0.0 < volatility_fact.value < 1.0
```


### 6.3. Task Suite (Evaluation Dataset)

```json
{
  "suite_version": "1.0",
  "tasks": [
    {
      "task_id": "HIST-001",
      "type": "historical_analysis",
      "query": "How did the VIX respond to the Fed rate hike on March 16, 2022?",
      "asof_timestamp": "2022-03-31T00:00:00Z",
      "ground_truth": {
        "direction": "increase",
        "magnitude_range": [5, 15],
        "required_facts": ["vix_close_2022-03-16", "vix_close_2022-03-15"]
      },
      "evaluation_method": "llm_judge",
      "rubric": "Check if report correctly identifies VIX increase and cites correct dates."
    },
    {
      "task_id": "FACT-001",
      "type": "fact_retrieval",
      "query": "What was Apple's P/E ratio on December 31, 2024?",
      "asof_timestamp": "2024-12-31T00:00:00Z",
      "ground_truth": {
        "value": 31.2,
        "tolerance": 0.5
      },
      "evaluation_method": "exact_match"
    },
    {
      "task_id": "SENS-001",
      "type": "sensitivity_test",
      "query": "Calculate the correlation between BTC and NASDAQ for Q4 2024.",
      "asof_timestamp": "2024-12-31T00:00:00Z",
      "sensitivity_params": {
        "vary": "window",
        "ranges": ["60d", "90d", "120d"]
      },
      "acceptance": {
        "max_delta": 0.15,
        "no_sign_flip": true
      }
    }
  ]
}
```


***

## –†–ê–ó–î–ï–õ 7: ROADMAP \& DELIVERY PLAN

### 7.1. Milestone 1: "–°–∫–µ–ª–µ—Ç + –ò—Å—Ç–∏–Ω–∞" (–ù–µ–¥–µ–ª–∏ 1-4)

**–¶–µ–ª—å:** –î–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Zero Hallucination –æ—Ç–≤–µ—Ç—ã.

**Deliverables:**

- [ ] LangGraph workflow —Å —É–∑–ª–∞–º–∏: PLAN ‚Üí EXECUTE_VEE ‚Üí TRUTH_GATE ‚Üí FINALIZE
- [ ] Docker sandbox –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è Python –∫–æ–¥–∞
- [ ] –ê–¥–∞–ø—Ç–µ—Ä—ã: YFinance, ClickHouse (–±–∞–∑–æ–≤—ã–µ)
- [ ] VerifiedFact schema + Neo4j storage
- [ ] Truth Boundary Gate (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
- [ ] 10 –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á –∏–∑ Task Suite –ø—Ä–æ—Ö–æ–¥—è—Ç —Å Hallucination Rate = 0%

**Acceptance:**

```gherkin
Given query "What was SPY closing price on 2024-01-15?"
When system executes workflow
Then final report contains exact price from yfinance
And report has FactRef for the price
And Truth Gate verdict is PASS
```


***

### 7.2. Milestone 2: "–ü–∞–º—è—Ç—å + –í–∞–ª–∏–¥–∞—Ü–∏—è" (–ù–µ–¥–µ–ª–∏ 5-8)

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ –ø–∞–º—è—Ç–∏ –∏ adversarial validation.

**Deliverables:**

- [ ] Neo4j schema (Episode ‚Üí Facts ‚Üí ExecutionLogs)
- [ ] EpisodeArchive –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [ ] Doubter agent —Å –ø—Ä–æ–º–ø—Ç–æ–º –∏ post-check
- [ ] Temporal Integrity Module (TIM-2.1)
- [ ] 30 –∑–∞–¥–∞—á –∏–∑ Task Suite, –≤–∫–ª—é—á–∞—è temporal tests

**Acceptance:**

```gherkin
Given query with asof_timestamp = "2022-03-01"
And fact published on "2022-03-10"
When system executes workflow
Then Temporal Integrity Module blocks the fact
And final verdict is UNCERTAIN or BLOCK
```


***

### 7.3. Milestone 3: "Reasoning + Debate" (–ù–µ–¥–µ–ª–∏ 9-12)

**–¶–µ–ª—å:** –í–Ω–µ–¥—Ä–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ multi-agent debate.

**Deliverables:**

- [ ] PLAN node —Å DeepSeek-R1
- [ ] InvestigationPlan schema + validation
- [ ] DEBATE node (Bull, Bear, Quant agents)
- [ ] Synthesis node —Å confidence calculation
- [ ] Sensitivity Harness (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- [ ] 50 –∑–∞–¥–∞—á –∏–∑ Task Suite, –≤–∫–ª—é—á–∞—è —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

**Acceptance:**

```gherkin
Given query "Compare correlation of Gold vs Bitcoin during high inflation periods"
When system generates plan
Then plan contains >=3 steps
And plan specifies temporal rules
And system executes debate with 3 agents
And final confidence reflects vote_entropy
```


***

### 7.4. Milestone 4: "–ü—Ä–æ–¥–∞–∫—à–Ω + –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥" (–ù–µ–¥–µ–ª–∏ 13-16)

**–¶–µ–ª—å:** –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Shadow Mode deployment.

**Deliverables:**

- [ ] FastAPI —Å authentication
- [ ] WebSocket streaming –¥–ª—è real-time updates
- [ ] –ü–æ–ª–Ω—ã–π Sensitivity Harness (parameter sweeps)
- [ ] HITL escalation workflow
- [ ] Monitoring dashboard (Grafana)
- [ ] Runbook –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- [ ] Cost tracking per query
- [ ] 100 –∑–∞–¥–∞—á –≤ Task Suite, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

**Acceptance:**

```gherkin
Given production environment
When 100 queries executed in shadow mode
Then Hallucination Rate = 0%
And P95 latency < 120 sec
And no system crashes
And all episodes have audit trail
```


***

## –†–ê–ó–î–ï–õ 8: OPERATIONS \& MONITORING

### 8.1. Key Metrics Dashboard

```yaml
Reliability Metrics:
  - hallucination_rate:
      target: 0.00%
      alert_threshold: > 0%
  
  - temporal_adherence:
      target: 100%
      alert_threshold: < 100%
  
  - evidence_coverage:
      target: >= 90%
      alert_threshold: < 85%

Performance Metrics:
  - p50_latency: target < 60s
  - p95_latency: target < 120s
  - p99_latency: target < 180s
  
  - token_usage_per_query: track
  - cost_per_query: target < $0.10

Quality Metrics:
  - confidence_score_distribution: monitor
  - fail_closed_rate: track (not a bug, expected)
  - hitl_escalation_rate: target < 5%
  - doubter_block_rate: track
  
System Health:
  - neo4j_query_latency: target < 500ms
  - clickhouse_query_latency: target < 1s
  - vee_success_rate: target > 95%
```


### 8.2. Alerting Rules

```yaml
Critical Alerts (PagerDuty):
  - name: "Hallucination Detected"
    condition: hallucination_rate > 0
    action: page on-call + auto-disable system
    
  - name: "Temporal Violation"
    condition: temporal_adherence < 100% for 10 min
    action: page on-call
    
  - name: "Database Down"
    condition: neo4j OR clickhouse unreachable
    action: page on-call

High Priority:
  - name: "High Latency"
    condition: p95_latency > 180s for 15 min
    action: notify team
    
  - name: "High Cost"
    condition: hourly_cost > $50
    action: notify team + review usage

Medium Priority:
  - name: "Low Confidence Trend"
    condition: avg(confidence_score) < 0.6 for 1 hour
    action: review queries
```


### 8.3. Incident Response (Runbook Extract)

```markdown
# Incident: Hallucination Detected

## Immediate Actions (< 5 min)
1. **STOP**: Disable query processing (set MAINTENANCE_MODE=true)
2. **ISOLATE**: Identify episode_id from alert
3. **PRESERVE**: Export full EpisodeArchive for forensics

## Investigation (< 30 min)
1. Review truth_gate_result.issues for root cause
2. Check if Doubter was bypassed or failed
3. Examine ExecutionLogs for VEE failures
4. Review model versions (was there a deployment?)

## Root Cause Categories
- **Code Bug**: Truth Gate logic error ‚Üí hotfix + test
- **Model Regression**: LLM started hallucinating ‚Üí rollback model version
- **Data Quality**: Source returned garbage ‚Üí blacklist source temporarily
- **Schema Drift**: Fact schema mismatch ‚Üí migration

## Resolution
1. Deploy fix to staging
2. Re-run failed episode from checkpoint
3. Verify Hallucination Rate = 0% on test suite
4. Enable system (MAINTENANCE_MODE=false)
5. Post-mortem within 48h
```


***

## –†–ê–ó–î–ï–õ 9: COMPLIANCE \& LEGAL

### 9.1. Product Positioning (Regulatory Safe)

```yaml
Classification: "Decision Support Tool" (NOT Financial Advisor)

Disclaimers (Required in UI):
  - "This system provides analysis, not financial advice."
  - "All outputs are probabilistic and may contain errors."
  - "Users are responsible for validating information before acting."
  - "Past performance does not guarantee future results."
  
Prohibited Claims:
  - "Guaranteed returns"
  - "Beat the market"
  - "Algorithmic trading with XX% win rate"
  - Any language suggesting SEC-regulated advisory
```


### 9.2. Data Privacy (GDPR/CCPA Ready)

```yaml
User Data:
  stored: query, user_id, timestamps
  not_stored: personal identifiers (unless explicitly consented)
  retention: 90 days default (configurable)
  
Right to Deletion:
  endpoint: DELETE /api/v1/episodes/{episode_id}
  scope: soft delete (archive to compliance storage)
  
Audit Logs:
  retention: 7 years (immutable, WORM storage)
  access: restricted to compliance team
```


### 9.3. Model Transparency (AI Act Compliance)

```yaml
Disclosures:
  - "This system uses Large Language Models for analysis."
  - "Models: DeepSeek-R1, Claude-3.7, GPT-4.5 (versions tracked)"
  - "Training data: public financial data, no proprietary PII"
  
Bias Mitigation:
  - Multi-agent debate (reduce single-model bias)
  - Adversarial validation
  - Sensitivity analysis (detect parameter sensitivity)
  
Human Oversight:
  - Confidence < 70% ‚Üí HITL escalation
  - Doubter verdict NEED_HUMAN ‚Üí manual review
```


***

## –†–ê–ó–î–ï–õ 10: COST OPTIMIZATION \& FINOPS

### 10.1. Token Budgeting Strategy

```python
TOKEN_BUDGETS = {
    "PLAN": {
        "model": "deepseek-r1",
        "max_input": 8000,
        "max_output": 2000,
        "cost_per_call": "$0.005"
    },
    "DEBATE": {
        "model": "deepseek-v3",
        "agents": 3,
        "max_input_per_agent": 5000,
        "max_output_per_agent": 1500,
        "cost_per_call": "$0.012"  # 3 agents
    },
    "SYNTHESIZE": {
        "model": "claude-sonnet-3.7",
        "max_input": 10000,
        "max_output": 3000,
        "cost_per_call": "$0.039"
    },
    "DOUBTER": {
        "model": "gpt-4.5",
        "max_input": 8000,
        "max_output": 2000,
        "cost_per_call": "$0.065"
    },
    
    "TOTAL_PER_QUERY": "$0.08 - $0.15"
}
```


### 10.2. Caching Layers

```yaml
Level 1 - Fact Cache:
  storage: Redis
  ttl: 1 hour (for market data), 24 hours (for fundamentals)
  key: hash(query + asof_timestamp)
  savings: ~40% on repeated queries
  
Level 2 - RAG Cache:
  storage: Qdrant (persistent)
  scope: Document embeddings
  invalidation: manual (when docs update)
  savings: ~60% on retrieval costs
  
Level 3 - Plan Cache:
  storage: PostgreSQL
  scope: InvestigationPlans for similar queries
  ttl: 7 days
  savings: ~30% on planning costs
```


### 10.3. Cost Monitoring

```python
# Middleware –¥–ª—è FastAPI
@app.middleware("http")
async def track_costs(request: Request, call_next):
    episode_id = request.state.episode_id
    
    cost_tracker = CostTracker(episode_id)
    
    response = await call_next(request)
    
    total_cost = cost_tracker.finalize()
    
    # Log to ClickHouse
    log_cost(episode_id, total_cost)
    
    # Alert if > threshold
    if total_cost > 1.0:  # $1 per query
        alert_high_cost(episode_id, total_cost)
    
    return response
```


***

## –†–ê–ó–î–ï–õ 11: SUCCESS CRITERIA \& DoD

### 11.1. Definition of Done (v1.0 MVP)

–°–∏—Å—Ç–µ–º–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è **–≥–æ—Ç–æ–≤–æ–π –∫ Shadow Mode Deployment**, –∫–æ–≥–¥–∞:

- [ ] **Hallucination Rate = 0.00%** –Ω–∞ –≤—Å–µ—Ö –∑–∞–¥–∞—á–∞—Ö –∏–∑ Task Suite
- [ ] **Temporal Adherence = 100%** (–Ω–µ—Ç look-ahead bias)
- [ ] **Evidence Coverage >= 90%** –Ω–∞ average
- [ ] **50+ –∑–∞–¥–∞—á** –≤ Task Suite, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–µ –≤—Å–µ —Ç–∏–ø—ã (Historical, Fact, Risk, Sensitivity)
- [ ] **P95 Latency < 120 sec** –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
- [ ] **Fail-Closed —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç UNCERTAIN, –Ω–µ –≤—ã–¥—É–º—ã–≤–∞–µ—Ç
- [ ] **Audit Trail –ø–æ–ª–æ–Ω**: –∫–∞–∂–¥—ã–π Episode –∏–º–µ–µ—Ç EpisodeArchive —Å –ø–æ–ª–Ω–æ–π —Ç—Ä–∞—Å—Å–æ–π
- [ ] **Runbook –Ω–∞–ø–∏—Å–∞–Ω**: –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∑–Ω–∞—é—Ç, –∫–∞–∫ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã
- [ ] **Monitoring dashboard** —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç (Grafana)
- [ ] **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –∞–∫—Ç—É–∞–ª—å–Ω–∞ (OpenAPI/Swagger)
- [ ] **Security audit** –ø—Ä–æ–π–¥–µ–Ω (sandbox isolation, SQL injection tests)


### 11.2. Post-MVP Roadmap (v1.1+)

**Phase 2 (–ø–æ—Å–ª–µ MVP):**

- Deferred Validation Loop (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –ø–æ—Å—Ç—Ñ–∞–∫—Ç—É–º)
- Meta-Learning Layer (–∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–ª–∏—Ç–∏–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫)
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (Bloomberg, Refinitiv ‚Äî –µ—Å–ª–∏ –±—é–¥–∂–µ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç)
- Multi-language support (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

**Phase 3 (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ):**

- Multi-tenancy (—Ä–∞–∑–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã/–∫–æ–º–∞–Ω–¥—ã)
- Real-time streaming mode (–¥–ª—è intraday analysis)
- Portfolio-level integration (—Å–≤—è–∑–∫–∞ —Å PMS)

***

## –†–ê–ó–î–ï–õ 12: RISKS \& MITIGATIONS

### 12.1. Technical Risks

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
| :-- | :-- | :-- | :-- |
| **LLM API downtime** | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | Fallback models (DeepSeek ‚Üí Claude ‚Üí Local LLaMa) |
| **Data source unavailable** | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | Graceful degradation, cache last-known values |
| **VEE sandbox escape** | –ù–∏–∑–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | Regular security audits, container hardening |
| **Cost explosion** | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | Token budgets, rate limits, alerts |
| **Model quality regression** | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | Version pinning, canary deployments |

### 12.2. Business Risks

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
| :-- | :-- | :-- | :-- |
| **Regulatory scrutiny** | –°—Ä–µ–¥–Ω—è—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | Position as "tool", not "advisor"; compliance review |
| **User over-reliance** | –í—ã—Å–æ–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | Prominent disclaimers, confidence scores, HITL |
| **Market regime change** | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | Sensitivity analysis, regime detection, uncertainty communication |
| **Reputational damage from error** | –ù–∏–∑–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | Fail-closed by default, audit trail, incident response |


***

## –†–ê–ó–î–ï–õ 13: APPENDICES

### 13.1. Glossary

| –¢–µ—Ä–º–∏–Ω | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ |
| :-- | :-- |
| **VerifiedFact** | –ê—Ç–æ–º–∞—Ä–Ω—ã–π —Ñ–∞–∫—Ç, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ –∫–æ–¥–∞/API, —Å –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ–Ω–∞–Ω—Å–æ–º |
| **DerivedFact** | –ó–Ω–∞—á–µ–Ω–∏–µ, –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∏–∑ VerifiedFacts –ø–æ —Ñ–æ—Ä–º—É–ª–µ |
| **Truth Boundary** | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞: LLM –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–∏—Å–ª–∞, —Ç–æ–ª—å–∫–æ –∫–æ–¥ |
| **Fail-Closed** | –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç UNCERTAIN, –Ω–µ –≤—ã–¥—É–º—ã–≤–∞–µ—Ç |
| **Adversarial Validation** | –ê–≥–µ–Ω—Ç-–∫—Ä–∏—Ç–∏–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –æ–ø—Ä–æ–≤–µ—Ä–≥–Ω—É—Ç—å –≤—ã–≤–æ–¥—ã |
| **Look-Ahead Bias** | –û—à–∏–±–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±—É–¥—É—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–º –∞–Ω–∞–ª–∏–∑–µ |
| **Sensitivity Harness** | –ú–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç–æ–≤ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |

### 13.2. References

```markdown
- LangGraph Documentation: https://langchain-ai.github.io/langgraph/
- Neo4j Best Practices: https://neo4j.com/developer/guide-data-modeling/
- ClickHouse for Time-Series: https://clickhouse.com/docs/en/guides/developer/time-series
- DeepSeek Models: https://www.deepseek.com/
- Anthropic Claude: https://www.anthropic.com/
- Financial Data APIs:
  - FRED: https://fred.stlouisfed.org/docs/api/
  - Yahoo Finance: https://github.com/ranaroussi/yfinance
  - OpenBB: https://docs.openbb.co/
```


***

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–≠—Ç–æ –¢–ó –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–ø–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ APE 2026 v2.1 ‚Äî —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ—à–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É LLM –≤ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö: **–Ω–µ–¥–æ–≤–µ—Ä–∏–µ –∫ –≤—ã–≤–æ–¥–∞–º**.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç —Ç–∏–ø–∏—á–Ω—ã—Ö "AI –∞–≥–µ–Ω—Ç–æ–≤":**

1. **Zero Hallucination –≥–∞—Ä–∞–Ω—Ç–∏—è** —á–µ—Ä–µ–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ (Code-as-Truth)
2. **Temporal Integrity** –∫–∞–∫ first-class concern (–∑–∞—â–∏—Ç–∞ –æ—Ç look-ahead bias)
3. **Adversarial Validation** (—Å–∏—Å—Ç–µ–º–∞ —Å–æ–º–Ω–µ–≤–∞–µ—Ç—Å—è –≤ —Å–µ–±–µ)
4. **Full Auditability** (–∫–∞–∂–¥–æ–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –¥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞)

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** –î–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Äî –æ—Ç —Å—Ö–µ–º –¥–∞–Ω–Ω—ã—Ö –¥–æ –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** Kick-off meeting —Å –∫–æ–º–∞–Ω–¥–æ–π, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Milestone 1 –ø–æ —Å–ø—Ä–∏–Ω—Ç–∞–º.

***

**–í–µ—Ä—Å–∏—è:** 2.1.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 7 —Ñ–µ–≤—Ä–∞–ª—è 2026
**–ê–≤—Ç–æ—Ä:** System Architecture Team
**–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** [Pending]

