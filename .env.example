# APE 2026 - Environment Variables Template
# Copy this file to .env and fill in your values
# DO NOT commit .env to Git (already in .gitignore)

# ==============================================================================
# Neo4j Configuration
# ==============================================================================
NEO4J_USER=neo4j
NEO4J_PASSWORD=ape_neo4j_password_CHANGE_ME
NEO4J_URI=bolt://localhost:7688

# ==============================================================================
# TimescaleDB (Postgres) Configuration
# ==============================================================================
POSTGRES_USER=ape
POSTGRES_PASSWORD=ape_timescale_password_CHANGE_ME
POSTGRES_DB=ape_timeseries
POSTGRES_HOST=localhost
POSTGRES_PORT=5433

# Database URL format (for SQLAlchemy)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_PASSWORD=
REDIS_DB=0

# Redis URL format
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==============================================================================
# ChromaDB Configuration (Embedded)
# ==============================================================================
CHROMA_PERSIST_DIRECTORY=./chroma_data
CHROMA_COLLECTION_NAME=evidence

# ==============================================================================
# External API Keys
# ==============================================================================

# FRED (Federal Reserve Economic Data)
FRED_API_KEY=your_fred_api_key_here
# Get your key: https://fred.stlouisfed.org/docs/api/api_key.html

# Alpha Vantage (optional, fallback для market data)
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here
# Get your key: https://www.alphavantage.co/support/#api-key

# OpenBB (optional)
OPENBB_API_KEY=your_openbb_key_here

# ==============================================================================
# LLM API Keys
# ==============================================================================

# DeepSeek
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com

# Anthropic (Claude)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# OpenAI (GPT-4.5 для Doubter)
OPENAI_API_KEY=your_openai_api_key_here

# ==============================================================================
# Application Configuration
# ==============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Application
APP_NAME=APE-2026
APP_VERSION=0.1.0
APP_HOST=0.0.0.0
APP_PORT=8000

# Security
SECRET_KEY=your_secret_key_for_jwt_CHANGE_ME_32_chars_minimum
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=15

# Rate Limiting
RATE_LIMIT_QUERIES_PER_HOUR=20
RATE_LIMIT_QUERIES_PER_DAY=100

# Latency Budgets (seconds)
MAX_QUERY_TIMEOUT=120
MAX_VEE_EXECUTION_TIME=60
MAX_RETRIEVAL_LATENCY=0.5

# ==============================================================================
# VEE (Verifiable Execution Environment) Configuration
# ==============================================================================

# Docker Sandbox
VEE_DOCKER_IMAGE=ape-sandbox:latest
VEE_MEMORY_LIMIT=2g
VEE_CPU_LIMIT=2
VEE_TIMEOUT=60
VEE_NETWORK_MODE=custom

# Allowed hosts (whitelist для network access)
VEE_ALLOWED_HOSTS=api.stlouisfed.org,query.yahooapis.com

# ==============================================================================
# Logging Configuration
# ==============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (json, text)
LOG_FORMAT=json

# Log file path
LOG_FILE_PATH=./logs/ape.log

# ==============================================================================
# Monitoring \& Observability
# ==============================================================================

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin_CHANGE_ME

# ==============================================================================
# Development Settings
# ==============================================================================

# Debug mode (DO NOT enable in production)
DEBUG=true

# Hot reload
RELOAD=true

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ==============================================================================
# Notes
# ==============================================================================

# 1. FRED API Key: Free tier = 100K requests/day (достаточно для MVP)
# 2. DeepSeek API: ~$0.55/1M tokens (дешево для reasoning)
# 3. Anthropic API: ~$3/1M tokens (Sonnet для validation)
# 4. OpenAI API: ~$5/1M tokens (GPT-4.5 для Doubter)
# 5. ChromaDB: embedded mode (no API key needed)

# Security Checklist:
# [ ] Changed all passwords from defaults
# [ ] Generated new SECRET_KEY (32+ chars)
# [ ] Added .env to .gitignore
# [ ] Never commit API keys to Git
# [ ] Use environment-specific .env files (.env.dev, .env.prod)
